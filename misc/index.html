<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Miscellaneous - Adaptable Configuration Engine</title>
    <link href="../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../js/jquery-3.2.1.min.js"></script>
    <script src="../js/bootstrap-3.3.7.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Miscellaneous", url: "#_top", children: [
              {title: "Alterations", url: "#alterations" },
          ]},
        ];

    </script>
    <script src="../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav">
      <a href="../gen/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../gen/" class="btn btn-xs btn-link">
        Code generation
      </a>
    </div>
    
  </div>

    

    <h1 id="miscellaneous">Miscellaneous</h1>
<h2 id="alterations">Alterations</h2>
<p>It is possible to use the command line arguments to alter the configuration. To use this feature, simple use the <code>parseFile</code> or <code>parseString</code> helper API, passing as a third argument a vector of string with the following format: <code>X.Y.Z=VALUE</code>.</p>
<h3 id="example">Example</h3>
<pre><code class="cpp">#include &lt;Model.ac.h&gt;
#include &lt;ace/engine/Master.h&gt;
#include &lt;ace/model/Helper.h&gt;
#include &lt;tclap/CmdLine.h&gt;
#include &lt;string&gt;

using namespace ace::model::Helper;

int main(int argc, char *argv[]) {
  // Define CLI arguments

  TCLAP::CmdLine cmd(&quot;ACME Tool&quot;, ' ', &quot;0.1&quot;);
  TCLAP::ValueArg&lt;std::string&gt; cfgPath(&quot;c&quot;, &quot;config&quot;, &quot;Configuration file&quot;,
                                       true, &quot;&quot;, &quot;string&quot;, cmd);
  TCLAP::MultiArg&lt;std::string&gt; defPath(&quot;D&quot;, &quot;define&quot;, &quot;A=B statements&quot;, false,
                                       &quot;string&quot;, cmd);
  cmd.parse(argc, argv);

  // Instantiate the configuration
  //
  auto cfg = parseFile&lt;my::ns::Model&gt;(cfgPath.getValue(), defPath.getValue(),
                                      false, argc, argv);
  if (cfg == nullptr) return -1;

  // Use it !
  //
  auto const &amp; acme = *cfg;
  if (acme.has_intItem()) {
    std::cout &lt;&lt; &quot;int = &quot; &lt;&lt; acme.intItem() &lt;&lt; std::endl;
  }
  for (auto const &amp; f : acme.floatItem()) {
    std::cout &lt;&lt; &quot;float = &quot; &lt;&lt; f &lt;&lt; std::endl;
  }
  for (auto const &amp; b : acme.booleanItem()) {
    std::cout &lt;&lt; &quot;bool = &quot; &lt;&lt; b &lt;&lt; std::endl;
  }
  std::cout &lt;&lt; &quot;str = &quot; &lt;&lt; acme.stringItem() &lt;&lt; std::endl;

  return 0;
}
</code></pre>

<h3 id="usage">Usage</h3>
<pre><code class="bash">./acme -c config_file.ini -D stringItem= -D stringItem=&quot;hello, world&quot;
</code></pre>

<h3 id="syntax">Syntax</h3>
<p>The <code>parseFile</code> or <code>parseString</code> helper expect a vector of strings with the following format: <code>X.Y.Z=VALUE</code>. <code>X.Y.Z</code> represents a path in the configuration tree. <code>VALUE</code> is the value that needs to be assigned to that path. The format used for the value is the same as the one use in the INI format. Altering the tree works as follows:</p>
<ul>
<li>Specifying a empty value for a path erase that value in the existing tree: <code>-D X.Y.Z=</code></li>
<li>Specifying one value for a path sets that value in the existing tree: <code>-D X.Y.Z=VALUE</code></li>
<li>Setting multiple values for a path appends these values to that path: <code>-D X.Y.Z=VALUE1 -D X.Y.Z=VALUE2 -D X.Y.Z=VALUE3</code></li>
</ul>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav">
      <a href="../gen/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../gen/" class="btn btn-xs btn-link">
        Code generation
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>